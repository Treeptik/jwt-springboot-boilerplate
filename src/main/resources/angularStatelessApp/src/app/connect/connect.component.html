<div *ngIf="token" style="color: white; background-color: #3f51b5; margin-bottom: 10px; padding: 10px; border-radius: 1px;">token : <span style="font-size: 0.7em;">{{ token }}</span></div>
<div *ngIf="error" style="color: white; background-color: #f44336; margin-bottom: 10px; padding: 10px; border-radius: 1px;">Error : {{ error }}</div>
<div style="display: flex;">
    <div style="width: 50%; margin-right: 30px;">
        <md-toolbar color="primary">Login</md-toolbar>
        <md-card >
            <md-card-content *ngIf="connect.authorities == undefined" style="display: block; left: 0; right: 0;">
                <form id="loginForm" #formLogin="ngForm" (ngSubmit)="login(formLogin.value)" style="text-align: center;">
                    <p>
                    <md-input type="text" [(ngModel)]="connect.pseudo" placeholder="username" required name="username"></md-input>
                    <md-input type="password" [(ngModel)]="connect.password" placeholder="password" required name="password"></md-input>
                    </p>
                    <p>Try one of the following logins :</p>
                     <div>   
                        <p>admin & admin</p>
                        <p>user & password</p>
                        <p>disabled & password</p>
                     </div>
                    <button [disabled]="!formLogin.valid" color="primary" md-raised-button type="submit">login</button>
                </form>
            </md-card-content>
            
            <md-card-content *ngIf="connect.authorities != undefined">
                <h4>Authenticated user</h4>
                <md-list>
                    <md-list-item *ngFor="let authority of connect.authorities"> {{authority.authority}} </md-list-item>
                </md-list>
                <md-card-actions>
                    <button type="button" color="warn" md-raised-button (click)="logout()">logout</button>
                </md-card-actions>
            </md-card-content>
        </md-card>
    </div>
    <div style="width: 50%;">
        <md-toolbar color="primary">Response</md-toolbar>
        <md-card>
            <md-card-actions>
                <button md-raised-button (click)="callNoProtected()" color="primary">Call example service</button>
                <button md-raised-button color="warn" (click)="callProtected()">Call admin protected service</button>
            </md-card-actions>
            <md-card-content *ngIf="callNoProtectedData.length > 0" style="background-color: gray;">
                <md-list>
                    <md-list-item *ngFor="let data of callNoProtectedData"> {{data.name}} | {{data.email}} </md-list-item>
                </md-list>
            </md-card-content>
            <md-card-content *ngIf="callProtectedData != ''" style="background-color: gray;">
                <p> {{callProtectedData}} </p>
            </md-card-content>
        </md-card>
    </div>
</div>